<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to batch edit title case into sentence case for multiple items in Zotero - YONGKANG YANG</title>
<meta name="description" content="Zotero users might use APA 7th for their reference. There is a problem when the metadata in Zotero is title case, it is laborious to change it every time to sentence case. I found a java script that c">

<!-- Favicon -->
<link rel="icon" href="/favicon.ico">

<!-- CSS -->
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/vars.css">

<!-- Theme Toggle -->

<script>
    // Check for saved theme preference or respect OS preference
    const getTheme = () => {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) return savedTheme;
        
        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    
    // Apply theme class to html element
    document.documentElement.dataset.theme = getTheme();
</script>


<!-- Open Graph -->
<meta property="og:title" content="How to batch edit title case into sentence case for multiple items in Zotero">
<meta property="og:description" content="Zotero users might use APA 7th for their reference. There is a problem when the metadata in Zotero is title case, it is laborious to change it every time to sentence case. I found a java script that c">
<meta property="og:type" content="article">
<meta property="og:url" content="https://yongkang-yang.github.io/posts/Infinity/">

<meta property="og:image" content="/img/default-cover.jpg">


<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="How to batch edit title case into sentence case for multiple items in Zotero">
<meta name="twitter:description" content="Zotero users might use APA 7th for their reference. There is a problem when the metadata in Zotero is title case, it is laborious to change it every time to sentence case. I found a java script that c">

<meta name="twitter:image" content="/img/default-cover.jpg">


<!-- RSS -->
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="YONGKANG YANG">

<!-- Custom Head -->
<!-- Custom Head Content -->
<!-- This file is for adding custom head content like additional CSS, meta tags, or scripts -->
<!-- You can customize this file for your specific needs -->


<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div class="wrapper">
        <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="YONGKANG YANG (accessibility.home)">
                
                    YONGKANG YANG
                
            </a>
            <div class="logo-switches">
                
                <button id="theme-toggle" accesskey="t" title="accessibility.theme_toggle">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                
                
                
            </div>
        </div>
        <ul id="menu">
            
                <li>
                    <a href="/" title="Home">
                        <span>Home</span>
                    </a>
                </li>
            
                <li>
                    <a href="/archives/" title="Archives">
                        <span>Archives</span>
                    </a>
                </li>
            
                <li>
                    <a href="/categories/" title="Categories">
                        <span>Categories</span>
                    </a>
                </li>
            
                <li>
                    <a href="/tags/" title="Tags">
                        <span>Tags</span>
                    </a>
                </li>
            
                <li>
                    <a href="/search/" title="Search">
                        <span>Search</span>
                    </a>
                </li>
            
        </ul>
    </nav>
</header>

        <main class="main">
            <article class="post-single">
    
    
    <header class="post-header">
        <h1 class="post-title">How to batch edit title case into sentence case for multiple items in Zotero</h1>
        
        
        <div class="post-meta">
            
            <span>2024-06-13</span>
            
            
            
            <span>3 post.minute</span>
            
            
            
            <span>
                
                <a href="/categories/Software/">Software</a>
                
                
            </span>
            
        </div>
        
    </header>
    
    
    <div class="toc">
        <details >
            <summary accesskey="c" title="accessibility.toc">
                <span class="details">post.toc</span>
            </summary>
            <div class="inner">
                
            </div>
        </details>
    </div>
    
    
    <div class="post-content">
        <p>Zotero users might use APA 7<sup>th</sup> for their reference. There is a problem when the metadata in Zotero is title case, it is laborious to change it every time to sentence case. I found a java script that can take care of all items at once.</p>
<span id="more"></span> 

<p><strong>Usage:</strong> </p>
<ol>
<li>copy the code below</li>
<li>Zotero-Tools-Developer-Run JavaScript</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">zoteroPane = <span class="title class_">Zotero</span>.<span class="title function_">getActiveZoteroPane</span>();</span><br><span class="line">items = zoteroPane.<span class="title function_">getSelectedItems</span>();</span><br><span class="line"><span class="keyword">var</span> result = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (item <span class="keyword">of</span> items) &#123;</span><br><span class="line"><span class="keyword">var</span> title = item.<span class="title function_">getField</span>(<span class="string">&#x27;title&#x27;</span>);</span><br><span class="line">result += <span class="string">&quot; &quot;</span> + title + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> new_title = title.<span class="title function_">replace</span>(<span class="regexp">/\b([A-Z][a-z0-9]+|A)\b/g</span>, <span class="keyword">function</span> (<span class="params">x</span>) &#123; <span class="keyword">return</span> x.<span class="title function_">toLowerCase</span>(); &#125;);</span><br><span class="line">new_title = new_title.<span class="title function_">replace</span>(<span class="regexp">/(^|\?\s*)[a-z]/</span>, <span class="keyword">function</span> (<span class="params">x</span>) &#123; <span class="keyword">return</span> x.<span class="title function_">toUpperCase</span>(); &#125;);</span><br><span class="line">result += <span class="string">&quot;-&gt; &quot;</span> + new_title + <span class="string">&quot;\n\n&quot;</span>;</span><br><span class="line"><span class="comment">// // Do it at your own risk</span></span><br><span class="line"> item.<span class="title function_">setField</span>(<span class="string">&#x27;title&#x27;</span>, new_title);</span><br><span class="line"> <span class="keyword">await</span> item.<span class="title function_">saveTx</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>

<p><span style="color:#FF0000;">The only issue is that it can’t uppercase the first letter after the “:”</span> there is still minimum work to be done, but I am not an expert in Java so if you find a better way, just let me know. </p>
<p><strong>If you want all title case, you can try another script below:</strong> </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> items = <span class="title class_">ZoteroPane</span>.<span class="title function_">getSelectedItems</span>();</span><br><span class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (item <span class="keyword">of</span> items) &#123;</span><br><span class="line">            <span class="keyword">var</span> title = item.<span class="title function_">getField</span>(<span class="string">&#x27;title&#x27;</span>);</span><br><span class="line">            new_title = <span class="title function_">titleCase</span>(title). <span class="comment">// convert to title case</span></span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;And&#x27;</span>, <span class="string">&#x27;and&#x27;</span>). <span class="comment">// replace &#x27;And&#x27;</span></span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;For&#x27;</span>, <span class="string">&#x27;for&#x27;</span>). <span class="comment">// replace &#x27;For&#x27;</span></span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;In&#x27;</span>, <span class="string">&#x27;in&#x27;</span>). <span class="comment">// replace &#x27;In&#x27;</span></span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;Of&#x27;</span>, <span class="string">&#x27;of&#x27;</span>). <span class="comment">// replace &#x27;Of&#x27;</span></span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;With&#x27;</span>, <span class="string">&#x27;with&#x27;</span>).</span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;Usa&#x27;</span>, <span class="string">&#x27;USA&#x27;</span>).</span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;Dna&#x27;</span>, <span class="string">&#x27;DNA&#x27;</span>).</span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;Pcr&#x27;</span>, <span class="string">&#x27;PCR&#x27;</span>).</span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;Ros&#x27;</span>, <span class="string">&#x27;ROS&#x27;</span>).</span><br><span class="line">                            <span class="title function_">replace</span>(<span class="string">&#x27;To&#x27;</span>, <span class="string">&#x27;to&#x27;</span>)</span><br><span class="line">                            </span><br><span class="line">                            </span><br><span class="line">                            </span><br><span class="line">            item.<span class="title function_">setField</span>(<span class="string">&#x27;title&#x27;</span>, new_title);</span><br><span class="line">            <span class="keyword">await</span> item.<span class="title function_">saveTx</span>();</span><br><span class="line">            n ++</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> n + <span class="string">&#x27;个条目的题目大小写转为词首字母大写，有些特殊缩写单词可能转换错误，请查实。&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将单词转为首字母大写</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">titleCase</span>(<span class="params">str</span>) &#123;   </span><br><span class="line">     <span class="keyword">var</span> newStr = str.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>);    </span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; newStr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        newStr[i] = newStr[i].<span class="title function_">slice</span>(<span class="number">0</span>,<span class="number">1</span>).<span class="title function_">toUpperCase</span>() + newStr[i].<span class="title function_">slice</span>(<span class="number">1</span>).<span class="title function_">toLowerCase</span>();</span><br><span class="line">        &#125;      </span><br><span class="line">     <span class="keyword">return</span> newStr.<span class="title function_">join</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Note: </p>
<p>Before run the script, make sure the metadata (year, author name, doi, etc.) are right. </p>
<p><strong>Reference:</strong></p>
<p>Find other useful scripts in Zotero, click: <a target="_blank" rel="noopener" href="https://github.com/redleafnew/zotero-javascripts">zotero-javascripts</a></p>

    </div>
    
    <footer class="post-footer">
        
        <ul class="post-tags">
            
            <li><a href="/tags/zotero/">zotero</a></li>
            
            <li><a href="/tags/javascript/">javascript</a></li>
            
            <li><a href="/tags/sentence-case/">sentence case</a></li>
            
        </ul>
        
        
        
        <nav class="post-nav">
            
            <a class="prev" href="/posts/b97fc5b4/">
                <span class="prev-text">post.prev</span>
                <span class="prev-title">Mplus Code for Measurement invariance and LCS model</span>
            </a>
            
            
            <a class="next" href="/posts/2bab4f46/">
                <span class="next-text">post.next</span>
                <span class="next-title">How to keep track of the latest journal articles</span>
            </a>
            
        </nav>
        
        
        
        <div class="share-buttons">
            <div class="share-btn-container">
                <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fyongkang-yang.github.io%2Fposts%2FInfinity%2F&text=How%20to%20batch%20edit%20title%20case%20into%20sentence%20case%20for%20multiple%20items%20in%20Zotero" target="_blank" rel="noopener noreferrer" class="share-btn twitter">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
                </a>
                <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fyongkang-yang.github.io%2Fposts%2FInfinity%2F" target="_blank" rel="noopener noreferrer" class="share-btn facebook">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                </a>
                <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fyongkang-yang.github.io%2Fposts%2FInfinity%2F&title=How%20to%20batch%20edit%20title%20case%20into%20sentence%20case%20for%20multiple%20items%20in%20Zotero" target="_blank" rel="noopener noreferrer" class="share-btn linkedin">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
                </a>
            </div>
        </div>
        
    </footer>
    
    
    <div class="comments">
        <!-- Comments System -->
<div class="comments-container">
  <!-- You can customize this partial to include your preferred commenting system -->
  <!-- Examples include Disqus, Utterances, Gitalk, or Valine -->
  
  <!-- Placeholder for comments system -->
  <div class="comments-placeholder">
    <p>Comments are currently disabled. Enable your preferred commenting system in the theme configuration.</p>
  </div>
</div>

    </div>
    
</article>

        </main>
        <footer class="footer">
    
    <div class="social-icons">
        
            <a href="https://github.com/" target="_blank" rel="noopener noreferrer me" title="GitHub">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                
            </a>
        
            <a href="https://twitter.com/" target="_blank" rel="noopener noreferrer me" title="Twitter">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
                
            </a>
        
            <a href="/atom.xml" target="_blank" rel="noopener noreferrer me" title="RSS">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
                
            </a>
        
    </div>
    
    
    <div class="copyright">
        &copy; 2025 <a href="https://yongkang-yang.github.io">YONGKANG YANG</a>.
        
    </div>
    
    
    <div class="top-link" id="top-link" title="accessibility.back_to_top">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </div>
    
</footer>

    </div>
    

<script src="/js/main.js"></script>


<script src="/js/search.js"></script>






</body>
</html>
